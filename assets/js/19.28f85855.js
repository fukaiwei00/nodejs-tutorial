(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{203:function(t,a,s){"use strict";s.r(a);var r={props:["slot-key"],mounted:function(){this.$nextTick(function(){this.$vuepress.$emit("AsyncMarkdownContentMounted",this.slotKey)})}},e=s(5),v=Object(e.a)(r,function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.slotKey}},[s("h1",{attrs:{id:"第13章-综合案例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第13章-综合案例","aria-hidden":"true"}},[t._v("#")]),t._v(" 第13章 综合案例")]),t._v(" "),s("ul",[s("li",[t._v("Node")]),t._v(" "),s("li",[t._v("Express")]),t._v(" "),s("li",[t._v("数据库")]),t._v(" "),s("li",[t._v("Ajax")])]),t._v(" "),s("h2",{attrs:{id:"学习目标"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#学习目标","aria-hidden":"true"}},[t._v("#")]),t._v(" 学习目标")]),t._v(" "),s("h2",{attrs:{id:"准备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#准备","aria-hidden":"true"}},[t._v("#")]),t._v(" 准备")]),t._v(" "),s("ol",[s("li",[t._v("在 GitHub 上创建一个仓库 "),s("code",[t._v("ithub")])]),t._v(" "),s("li",[t._v("使用 Git 将远程仓库下载到本地 "),s("code",[t._v("git clone 远程仓库地址")])])]),t._v(" "),s("h3",{attrs:{id:"初始化目录结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#初始化目录结构","aria-hidden":"true"}},[t._v("#")]),t._v(" 初始化目录结构")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(".\n├── node_modules\n├── controllers 控制器\n├── models 模型\n├── public 静态资源\n├── views 视图\n├── app.js 应用程序启动入口\n├── config.js 应用配置文件\n├── .gitignore Git忽略文件\n├── package.json 项目包说明文件，用来存储项目名称，第三方包依赖等信息\n├── package-lock.json\n└── README.md 项目说明文件\n")])])]),s("p",[t._v("在 app.js 中写入以下内容：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" express "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("require")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'express'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("express")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\napp"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'/'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" res"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("send")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'Hello World!'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\napp"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("listen")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("3000")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("log")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'Example app listening on port 3000!'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"导入模板"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#导入模板","aria-hidden":"true"}},[t._v("#")]),t._v(" 导入模板")]),t._v(" "),s("p",[t._v("下载模板到本地：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("git clone https://github.com/lipengzhou/ithub-template.git\n")])])]),s("p",[t._v("将模板中的 "),s("code",[t._v("public")]),t._v(" 和 "),s("code",[t._v("views")]),t._v(" 拷贝到项目中。")]),t._v(" "),s("h3",{attrs:{id:"mvc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mvc","aria-hidden":"true"}},[t._v("#")]),t._v(" MVC")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://zh.wikipedia.org/wiki/MVC",target:"_blank",rel:"noopener noreferrer"}},[t._v("维基百科 - MVC"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"导入数据表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#导入数据表","aria-hidden":"true"}},[t._v("#")]),t._v(" 导入数据表")]),t._v(" "),s("ul",[s("li",[t._v("新建数据库 "),s("code",[t._v("ithub")])]),t._v(" "),s("li",[t._v("在数据库上右键 -> 运行 SQL 文件")])]),t._v(" "),s("h2",{attrs:{id:"数据库设计"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据库设计","aria-hidden":"true"}},[t._v("#")]),t._v(" 数据库设计")]),t._v(" "),s("h3",{attrs:{id:"用户表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用户表","aria-hidden":"true"}},[t._v("#")]),t._v(" 用户表")]),t._v(" "),s("h3",{attrs:{id:"话题表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#话题表","aria-hidden":"true"}},[t._v("#")]),t._v(" 话题表")]),t._v(" "),s("h3",{attrs:{id:"话题分类表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#话题分类表","aria-hidden":"true"}},[t._v("#")]),t._v(" 话题分类表")]),t._v(" "),s("h3",{attrs:{id:"评论表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#评论表","aria-hidden":"true"}},[t._v("#")]),t._v(" 评论表")]),t._v(" "),s("h2",{attrs:{id:"路由设计"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路由设计","aria-hidden":"true"}},[t._v("#")]),t._v(" 路由设计")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("请求方法")]),t._v(" "),s("th",[t._v("请求路径")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("GET")]),t._v(" "),s("td",[t._v("/")]),t._v(" "),s("td",[t._v("渲染首页")])]),t._v(" "),s("tr",[s("td",[t._v("GET")]),t._v(" "),s("td",[t._v("/signin")]),t._v(" "),s("td",[t._v("渲染登陆页面")])]),t._v(" "),s("tr",[s("td",[t._v("POST")]),t._v(" "),s("td",[t._v("/signin")]),t._v(" "),s("td",[t._v("处理登陆请求")])]),t._v(" "),s("tr",[s("td",[t._v("GET")]),t._v(" "),s("td",[t._v("/signup")]),t._v(" "),s("td",[t._v("渲染注册页面")])]),t._v(" "),s("tr",[s("td",[t._v("POST")]),t._v(" "),s("td",[t._v("/signup")]),t._v(" "),s("td",[t._v("处理注册请求")])]),t._v(" "),s("tr",[s("td",[t._v("POST")]),t._v(" "),s("td",[t._v("/signout")]),t._v(" "),s("td",[t._v("处理退出请求")])]),t._v(" "),s("tr",[s("td",[t._v("GET")]),t._v(" "),s("td",[t._v("/topic/create")]),t._v(" "),s("td",[t._v("渲染发布话题页面")])]),t._v(" "),s("tr",[s("td",[t._v("POST")]),t._v(" "),s("td",[t._v("/topic/create")]),t._v(" "),s("td",[t._v("处理发布请求请求")])]),t._v(" "),s("tr",[s("td",[t._v("GET")]),t._v(" "),s("td",[t._v("/topic/:topicID")]),t._v(" "),s("td",[t._v("渲染话题详情页面")])]),t._v(" "),s("tr",[s("td",[t._v("GET")]),t._v(" "),s("td",[t._v("/topic/:topicID/edit")]),t._v(" "),s("td",[t._v("渲染编辑话题页面")])]),t._v(" "),s("tr",[s("td",[t._v("POST")]),t._v(" "),s("td",[t._v("/topic/:topicID/edit")]),t._v(" "),s("td",[t._v("处理编辑话题请求")])]),t._v(" "),s("tr",[s("td",[t._v("POST")]),t._v(" "),s("td",[t._v("/topic/:topicID/delete")]),t._v(" "),s("td",[t._v("处理删除话题请求")])]),t._v(" "),s("tr",[s("td",[t._v("POST")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("发表评论")])]),t._v(" "),s("tr",[s("td"),t._v(" "),s("td"),t._v(" "),s("td",[t._v("修改评论")])]),t._v(" "),s("tr",[s("td"),t._v(" "),s("td"),t._v(" "),s("td",[t._v("删除评论")])]),t._v(" "),s("tr",[s("td"),t._v(" "),s("td"),t._v(" "),s("td",[t._v("个人主页")])]),t._v(" "),s("tr",[s("td"),t._v(" "),s("td"),t._v(" "),s("td",[t._v("基本信息")])]),t._v(" "),s("tr",[s("td"),t._v(" "),s("td"),t._v(" "),s("td",[t._v("设置")])])])]),t._v(" "),s("h2",{attrs:{id:"提取路由和控制器模块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#提取路由和控制器模块","aria-hidden":"true"}},[t._v("#")]),t._v(" 提取路由和控制器模块")]),t._v(" "),s("h2",{attrs:{id:"杂项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#杂项","aria-hidden":"true"}},[t._v("#")]),t._v(" 杂项")]),t._v(" "),s("ul",[s("li",[t._v("拷贝 "),s("code",[t._v("resources")]),t._v(" 中的 "),s("code",[t._v("public")]),t._v(" 和 "),s("code",[t._v("views")]),t._v(" 到案例根目录")]),t._v(" "),s("li",[s("code",[t._v("npm i bootstrap jquery")])]),t._v(" "),s("li",[t._v("开放 public 和 node_modules 静态资源")])]),t._v(" "),s("h2",{attrs:{id:"按照路由走通页面渲染"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#按照路由走通页面渲染","aria-hidden":"true"}},[t._v("#")]),t._v(" 按照路由走通页面渲染")]),t._v(" "),s("ul",[s("li",[t._v("配置模板引擎")]),t._v(" "),s("li",[t._v("根据不同路由渲染页面")])]),t._v(" "),s("h2",{attrs:{id:"用户注册"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用户注册","aria-hidden":"true"}},[t._v("#")]),t._v(" 用户注册")]),t._v(" "),s("h2",{attrs:{id:"用户登陆"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用户登陆","aria-hidden":"true"}},[t._v("#")]),t._v(" 用户登陆")]),t._v(" "),s("h2",{attrs:{id:"用户退出"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用户退出","aria-hidden":"true"}},[t._v("#")]),t._v(" 用户退出")]),t._v(" "),s("h2",{attrs:{id:"发表话题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发表话题","aria-hidden":"true"}},[t._v("#")]),t._v(" 发表话题")]),t._v(" "),s("h2",{attrs:{id:"查看话题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看话题","aria-hidden":"true"}},[t._v("#")]),t._v(" 查看话题")]),t._v(" "),s("h2",{attrs:{id:"修改话题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改话题","aria-hidden":"true"}},[t._v("#")]),t._v(" 修改话题")]),t._v(" "),s("h2",{attrs:{id:"删除话题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除话题","aria-hidden":"true"}},[t._v("#")]),t._v(" 删除话题")]),t._v(" "),s("h2",{attrs:{id:"案例代码查看"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#案例代码查看","aria-hidden":"true"}},[t._v("#")]),t._v(" 案例代码查看")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# 下载到本地\ngit clone https://github.com/lipengzhou/itcast-nodejs.git\n")])])]),s("p",[t._v("查看所有的标签（我针对每一大步都打了标签，方便切换）：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# 查看所有标签\ngit tag\n\n# 查看带有注释的标签\n# 注意：使用 git-bash 查看，因为有中文\ngit tag -n\n")])])]),s("p",[t._v("切换指定标签：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("git checkout -f 标签名称\n\n# 例如切换到 step-2\ngit checkout -f step-2\n")])])]),s("h2",{attrs:{id:"使用-markdown-富文本编辑器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-markdown-富文本编辑器","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用 markdown 富文本编辑器")]),t._v(" "),s("ul",[s("li",[t._v("https://github.com/lepture/editor")])])])},[],!1,null,null,null);v.options.__file="13-alibaixiu.md";a.default=v.exports}}]);